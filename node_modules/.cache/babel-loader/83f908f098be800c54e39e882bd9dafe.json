{"ast":null,"code":"var _jsxFileName = \"/Users/navdeep/Documents/votingsystem/votingsystem/src/Components/Header/Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./Header.scss\";\nimport ConnectWallet from \"../ConnectWallet\";\nimport { Container, Row } from \"react-bootstrap\";\nimport ButtonOutline from \"../Button/ButtonOutline\";\nimport Createmodal from \"../Createmodal/Createmodal\";\nimport setting from '../../assets/images/settings.png';\nimport logo from '../../assets/images/mobile-logo.png';\nimport usericon from '../../assets/images/user-icon.png';\nimport { getTokenBalanceServiceAction, getCreationFeeAction } from \"../../redux/actions/user.action\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { COMT_TOKEN_CONTRACT, CVP_TOKEN_CONTRACT } from \"../../constant\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Header = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [show, setShow] = useState(false);\n  const [creationFee, setCreationFee] = useState(0);\n  const [userCOMTBalance, setUserCOMTBalance] = useState(\"\");\n  const [comtTokenDecimals, setComtTokenDecimals] = useState(\"\");\n  const user = useSelector(state => state.user.walletAddress ? state.user : false);\n  useEffect(() => {\n    onInit();\n  }, []);\n\n  const onInit = async () => {\n    if (user) {\n      //get COMT token details based on user\n      const comtTokenInfo = await dispatch(getTokenBalanceServiceAction(user.wallet, {\n        tokenAddress: COMT_TOKEN_CONTRACT,\n        walletAddress: user.walletAddress\n      })); // get CVP token details based on user\n      // const cvpTokenInfo = await dispatch(\n      //   getTokenBalanceServiceAction(user.wallet,{\n      //     tokenAddress: CVP_TOKEN_CONTRACT,\n      //     walletAddress:user.walletAddress\n      //   })\n      // );\n\n      if (comtTokenInfo) {\n        //get project creation fee\n        const proposalCreationFee = await dispatch(getCreationFeeAction(user.wallet));\n\n        if (proposalCreationFee) {\n          setCreationFee(proposalCreationFee / (comtTokenInfo === null || comtTokenInfo === void 0 ? void 0 : comtTokenInfo.tokenDecimals));\n        } //set user comt balance\n\n\n        setUserCOMTBalance((comtTokenInfo === null || comtTokenInfo === void 0 ? void 0 : comtTokenInfo.tokenBalance) / (comtTokenInfo === null || comtTokenInfo === void 0 ? void 0 : comtTokenInfo.tokenDecimals));\n        setComtTokenDecimals(comtTokenInfo === null || comtTokenInfo === void 0 ? void 0 : comtTokenInfo.tokenDecimals);\n      }\n    }\n  };\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"topheader\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mainHeader\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo d-flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: props.handletoggle,\n              src: logo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Project\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), props.type === 'admin' ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btnDiv admin-header d-flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"setting-label\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: setting\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 46\n              }, this), \" Settings\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"user-icon\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: usericon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btnDiv\",\n            children: [/*#__PURE__*/_jsxDEV(ButtonOutline, {\n              onClick: handleShow,\n              text: \"Create\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Createmodal, {\n              show: show,\n              onHide: handleClose,\n              userComtBalance: userCOMTBalance,\n              creationFee: creationFee,\n              comtTokenDecimals: comtTokenDecimals\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ConnectWallet, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Header, \"JZTSfGY9vTvjWFzCHQ/gl2Vg6Dc=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/Users/navdeep/Documents/votingsystem/votingsystem/src/Components/Header/Header.js"],"names":["React","useState","useEffect","ConnectWallet","Container","Row","ButtonOutline","Createmodal","setting","logo","usericon","getTokenBalanceServiceAction","getCreationFeeAction","useDispatch","useSelector","COMT_TOKEN_CONTRACT","CVP_TOKEN_CONTRACT","Header","props","dispatch","show","setShow","creationFee","setCreationFee","userCOMTBalance","setUserCOMTBalance","comtTokenDecimals","setComtTokenDecimals","user","state","walletAddress","onInit","comtTokenInfo","wallet","tokenAddress","proposalCreationFee","tokenDecimals","tokenBalance","handleClose","handleShow","handletoggle","type"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Header.scss\";\nimport ConnectWallet from \"../ConnectWallet\"\nimport { Container, Row } from \"react-bootstrap\";\nimport ButtonOutline from \"../Button/ButtonOutline\";\nimport Createmodal from \"../Createmodal/Createmodal\";\nimport setting from '../../assets/images/settings.png'\nimport logo from '../../assets/images/mobile-logo.png'\nimport usericon from '../../assets/images/user-icon.png'\nimport { getTokenBalanceServiceAction, getCreationFeeAction } from \"../../redux/actions/user.action\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { COMT_TOKEN_CONTRACT, CVP_TOKEN_CONTRACT } from \"../../constant\";\n\nconst Header = (props) => {\n  const dispatch = useDispatch();\n  const [show, setShow] = useState(false);\n  const [creationFee, setCreationFee] = useState(0);\n  const [userCOMTBalance, setUserCOMTBalance] = useState(\"\");\n  const [comtTokenDecimals, setComtTokenDecimals] = useState(\"\");\n\n\n  const user = useSelector((state) =>\n    state.user.walletAddress ? state.user : false\n  );\n  useEffect(() => {\n    onInit();\n  }, []);\n  const onInit = async () => {\n    if (user) {\n      //get COMT token details based on user\n      const comtTokenInfo = await dispatch(\n        getTokenBalanceServiceAction(user.wallet, {\n          tokenAddress: COMT_TOKEN_CONTRACT,\n          walletAddress: user.walletAddress\n        })\n      );\n      // get CVP token details based on user\n      // const cvpTokenInfo = await dispatch(\n      //   getTokenBalanceServiceAction(user.wallet,{\n      //     tokenAddress: CVP_TOKEN_CONTRACT,\n      //     walletAddress:user.walletAddress\n      //   })\n      // );\n      if (comtTokenInfo) {\n        //get project creation fee\n        const proposalCreationFee = await dispatch(\n          getCreationFeeAction(user.wallet)\n        );\n        if (proposalCreationFee) {\n          setCreationFee(proposalCreationFee / comtTokenInfo?.tokenDecimals);\n        }\n        //set user comt balance\n        setUserCOMTBalance(comtTokenInfo?.tokenBalance / comtTokenInfo?.tokenDecimals);\n        setComtTokenDecimals(comtTokenInfo?.tokenDecimals);\n      }\n    }\n\n  }\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  return (\n    <div className=\"topheader\">\n      <Container>\n        <Row>\n          <div className=\"mainHeader\">\n            <div className=\"logo d-flex\">\n              <img onClick={props.handletoggle} src={logo} />\n              <p>Project</p>\n            </div>\n\n            {props.type === 'admin' ?\n              <div className=\"btnDiv admin-header d-flex\">\n                <p className=\"setting-label\"><img src={setting} /> Settings</p>\n                <span className=\"user-icon\"> <img src={usericon} /></span>\n              </div>\n              : <div className=\"btnDiv\">\n                <ButtonOutline onClick={handleShow} text=\"Create\" />\n                <Createmodal show={show}\n                  onHide={handleClose}\n                  userComtBalance={userCOMTBalance}\n                  creationFee={creationFee}\n                  comtTokenDecimals={comtTokenDecimals}\n                />\n                <ConnectWallet />\n              </div>\n            }\n\n          </div>\n        </Row>\n      </Container>\n    </div>\n  );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}