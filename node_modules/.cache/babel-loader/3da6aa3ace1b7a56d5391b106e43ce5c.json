{"ast":null,"code":"var _jsxFileName = \"/Users/navdeep/Documents/votingsystem/votingsystem/src/Components/Createmodal/Createmodal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Modal, Form } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Button from \"../Button/Button\";\nimport \"./Createmodal.scss\";\nimport { toast } from \"../Toast/Toast\";\nimport { CommonService } from \"../../services/CommonService\";\nimport { apiCallPost } from \"../../services/axios\";\nimport { API_HOST, COMT_TOKEN_CONTRACT } from \"../../constant\";\nimport { PROPOSAL_CREATE_ENDPOINT } from \"../../constants/apiEndPoint\";\nimport { makeProposalAction, toGetAllowanceInfoAction, toSetApprovalForCreateThreadAction } from \"../../redux/actions/user.action\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Createmodal = props => {\n  _s();\n\n  //console.log('props :>> ', props);\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.user.walletAddress ? state.user : false);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\"); // const [commitment, setCommitment] = useState(\"\");\n\n  const [durationInDays, setDurationInDays] = useState(\"\");\n  /**\n   * handlers block\n   */\n\n  const createProposalHandler = async e => {\n    try {\n      e.preventDefault();\n\n      if (!user) {\n        return toast.error(\"Please connect to the wallet.\");\n      } //check if user has required balance of COMT token\n\n\n      if ((props === null || props === void 0 ? void 0 : props.userComtBalance) < (props === null || props === void 0 ? void 0 : props.creationFee)) {\n        return toast.error(`You need minimum balance of ${props === null || props === void 0 ? void 0 : props.creationFee} COMT to create proposal `);\n      } //check for allowance\n\n\n      const checkAllowance = await dispatch(toGetAllowanceInfoAction(user.wallet, {\n        walletAddress: user.walletAddress,\n        address: COMT_TOKEN_CONTRACT\n      }));\n\n      if (Number(checkAllowance) <= 0) {\n        //set approval\n        await dispatch(toSetApprovalForCreateThreadAction(user.wallet, user.walletAddress));\n      } else {\n        //set proposal data\n        const data = {};\n        data.title = name;\n        data.description = description;\n        data.commitment = CommonService.convertWithDecimal(props === null || props === void 0 ? void 0 : props.creationFee, props === null || props === void 0 ? void 0 : props.comtTokenDecimals);\n        data.duration = CommonService.getMilliseconds(durationInDays);\n        data.creator_wallet_address = user.walletAddress;\n\n        if (data) {\n          let makeProposalApi = await apiCallPost(API_HOST + PROPOSAL_CREATE_ENDPOINT, data);\n\n          if (makeProposalApi.status == 200) {\n            //contract interaction\n            const sendToVotingContract = await dispatch(makeProposalAction(user.wallet, {\n              id: makeProposalApi.data,\n              duration: data.duration,\n              walletAddress: user.walletAddress\n            }));\n\n            if (sendToVotingContract && sendToVotingContract.status) {\n              setName(\"\");\n              setDescription(\"\");\n              setDurationInDays(\"\");\n              props.onHide();\n              toast.success(\"Proposal created successfully\");\n            }\n          } else {\n            toast.error(`Error ${makeProposalApi.message}`);\n          }\n        }\n      }\n    } catch (err) {\n      console.error(\"Error under createProposalHandler\", err); //toast.error(\"Something went wrong while creating proposal\");\n    }\n  };\n  /**\n   * END handlers\n   */\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      className: \"create-modal\",\n      show: props.show,\n      onHide: props.onHide,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Create Proposal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          className: \"offer-title  theme-bg  comment-form\",\n          onSubmit: e => createProposalHandler(e),\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-4 align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Eg  Aryan Khana \",\n              value: name,\n              onChange: e => {\n                setName(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-4 align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"More than 50 words \",\n              value: description,\n              onChange: e => {\n                setDescription(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-4 align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Commitment Required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              readOnly: true,\n              type: \"text\",\n              placeholder: \"100000 COMT \",\n              defaultValue: props === null || props === void 0 ? void 0 : props.creationFee\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-4 align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Duration In Days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"2 Days\",\n              value: durationInDays,\n              onChange: e => {\n                let result = CommonService.allowOnlyNumber(e.target.value);\n\n                if (result == true) {\n                  setDurationInDays(e.target.value);\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"w-100 modal-btn\",\n            text: \"Create\",\n            type: \"submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\n_s(Createmodal, \"oAKQiZBGqtHpkpK9K8zI3fYpWSQ=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Createmodal;\nexport default Createmodal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Createmodal\");","map":{"version":3,"sources":["/Users/navdeep/Documents/votingsystem/votingsystem/src/Components/Createmodal/Createmodal.js"],"names":["React","useState","Modal","Form","useDispatch","useSelector","Button","toast","CommonService","apiCallPost","API_HOST","COMT_TOKEN_CONTRACT","PROPOSAL_CREATE_ENDPOINT","makeProposalAction","toGetAllowanceInfoAction","toSetApprovalForCreateThreadAction","Createmodal","props","dispatch","user","state","walletAddress","name","setName","description","setDescription","durationInDays","setDurationInDays","createProposalHandler","e","preventDefault","error","userComtBalance","creationFee","checkAllowance","wallet","address","Number","data","title","commitment","convertWithDecimal","comtTokenDecimals","duration","getMilliseconds","creator_wallet_address","makeProposalApi","status","sendToVotingContract","id","onHide","success","message","err","console","show","target","value","result","allowOnlyNumber"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Modal, Form } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Button from \"../Button/Button\";\nimport \"./Createmodal.scss\";\nimport { toast } from \"../Toast/Toast\";\nimport { CommonService } from \"../../services/CommonService\";\nimport { apiCallPost } from \"../../services/axios\";\nimport { API_HOST, COMT_TOKEN_CONTRACT } from \"../../constant\";\nimport { PROPOSAL_CREATE_ENDPOINT } from \"../../constants/apiEndPoint\";\nimport {\n\tmakeProposalAction,\n\ttoGetAllowanceInfoAction,\n\ttoSetApprovalForCreateThreadAction,\n} from \"../../redux/actions/user.action\";\n\nconst Createmodal = (props) => {\n\t//console.log('props :>> ', props);\n\tconst dispatch = useDispatch();\n\tconst user = useSelector((state) =>\n\t\tstate.user.walletAddress ? state.user : false\n\t);\n\tconst [name, setName] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\t// const [commitment, setCommitment] = useState(\"\");\n\tconst [durationInDays, setDurationInDays] = useState(\"\");\n\n\t/**\n\t * handlers block\n\t */\n\tconst createProposalHandler = async (e) => {\n\t\ttry {\n\t\t\te.preventDefault();\n\t\t\tif (!user) {\n\t\t\t\treturn toast.error(\"Please connect to the wallet.\");\n\t\t\t}\n\t\t\t//check if user has required balance of COMT token\n\t\t\tif (props?.userComtBalance < props?.creationFee) {\n\t\t\t\treturn toast.error(\n\t\t\t\t\t`You need minimum balance of ${props?.creationFee} COMT to create proposal `\n\t\t\t\t);\n\t\t\t}\n\t\t\t//check for allowance\n\t\t\tconst checkAllowance = await dispatch(\n\t\t\t\ttoGetAllowanceInfoAction(user.wallet, {\n\t\t\t\t\twalletAddress: user.walletAddress,\n\t\t\t\t\taddress: COMT_TOKEN_CONTRACT,\n\t\t\t\t})\n\t\t\t);\n\t\t\tif (Number(checkAllowance) <= 0) {\n\t\t\t\t//set approval\n\t\t\t\tawait dispatch(\n\t\t\t\t\ttoSetApprovalForCreateThreadAction(user.wallet, user.walletAddress)\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\t//set proposal data\n\t\t\t\tconst data = {};\n\t\t\t\tdata.title = name;\n\t\t\t\tdata.description = description;\n\t\t\t\tdata.commitment = CommonService.convertWithDecimal(\n\t\t\t\t\tprops?.creationFee,\n\t\t\t\t\tprops?.comtTokenDecimals\n\t\t\t\t);\n\t\t\t\tdata.duration = CommonService.getMilliseconds(durationInDays);\n\t\t\t\tdata.creator_wallet_address = user.walletAddress;\n\t\t\t\tif (data) {\n\t\t\t\t\tlet makeProposalApi = await apiCallPost(\n\t\t\t\t\t\tAPI_HOST + PROPOSAL_CREATE_ENDPOINT,\n\t\t\t\t\t\tdata\n\t\t\t\t\t);\n\t\t\t\t\tif (makeProposalApi.status == 200) {\n\t\t\t\t\t\t//contract interaction\n\t\t\t\t\t\tconst sendToVotingContract = await dispatch(\n\t\t\t\t\t\t\tmakeProposalAction(user.wallet, {\n\t\t\t\t\t\t\t\tid: makeProposalApi.data,\n\t\t\t\t\t\t\t\tduration: data.duration,\n\t\t\t\t\t\t\t\twalletAddress: user.walletAddress,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (sendToVotingContract && sendToVotingContract.status) {\n\t\t\t\t\t\t\tsetName(\"\");\n\t\t\t\t\t\t\tsetDescription(\"\");\n\t\t\t\t\t\t\tsetDurationInDays(\"\");\n\t\t\t\t\t\t\tprops.onHide();\n\t\t\t\t\t\t\ttoast.success(\"Proposal created successfully\");\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoast.error(`Error ${makeProposalApi.message}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Error under createProposalHandler\", err);\n\t\t\t//toast.error(\"Something went wrong while creating proposal\");\n\t\t}\n\t};\n\t/**\n\t * END handlers\n\t */\n\n\treturn (\n\t\t<>\n\t\t\t<Modal className=\"create-modal\" show={props.show} onHide={props.onHide}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>\n\t\t\t\t\t\tCreate Proposal\n\t\t\t\t\t\t{/* <p className='proposa-add'>0x386c930y2hue7b7f9c8</p> */}\n\t\t\t\t\t</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Form\n\t\t\t\t\t\tclassName=\"offer-title  theme-bg  comment-form\"\n\t\t\t\t\t\tonSubmit={(e) => createProposalHandler(e)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form.Group className=\"mb-4 align-items-center\">\n\t\t\t\t\t\t\t<label>Name</label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"Eg  Aryan Khana \"\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetName(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group className=\"mb-4 align-items-center\">\n\t\t\t\t\t\t\t<label>Description</label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"More than 50 words \"\n\t\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetDescription(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group className=\"mb-4 align-items-center\">\n\t\t\t\t\t\t\t<label>Commitment Required</label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"100000 COMT \"\n\t\t\t\t\t\t\t\tdefaultValue={props?.creationFee}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group className=\"mb-4 align-items-center\">\n\t\t\t\t\t\t\t<label>Duration In Days</label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"2 Days\"\n\t\t\t\t\t\t\t\tvalue={durationInDays}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tlet result = CommonService.allowOnlyNumber(e.target.value);\n\t\t\t\t\t\t\t\t\tif (result == true) {\n\t\t\t\t\t\t\t\t\t\tsetDurationInDays(e.target.value);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Button className=\"w-100 modal-btn\" text=\"Create\" type=\"submit\" />\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\nexport default Createmodal;\n"]},"metadata":{},"sourceType":"module"}